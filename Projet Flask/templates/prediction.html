{% extends 'layout.html' %}

{% block title %}Prédiction MNIST{% endblock %}

{% block content %}
<div class="form-container">
    <h1 class="form-heading">Prédiction de chiffre MNIST</h1>
    <form action="/prediction" method="post" enctype="multipart/form-data" class="prediction-form">
        <div class="form-group">
            <input type="file" name="file" required class="file-input">
        </div>
        <input type="submit" value="Prédire" class="submit-btn">
    </form>

    {% if prediction is not none %}
        <div class="prediction-result">
            <h2>Le chiffre prédit est : {{ prediction }}</h2>
        </div>
    {% endif %}

    <div class="form-container draw-container">
        <h1 class="form-heading">Prédiction de dessin MNIST</h1>
        <canvas id="canvas" width="200" height="200" class="mnist-canvas"></canvas>
        <button id="predictButton" class="submit-btn">Prédire</button>
        <button id="clearButton" type="button" class="submit-btn clear-btn">Nouveau dessin</button>
        <p id="predictionResult" class="prediction-text"></p>
    </div>
</div>

<script src="{{ url_for('static', filename='prediction_dessin.js') }}"></script>
{% endblock %}
